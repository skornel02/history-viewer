(this["webpackJsonphistory-viewer"]=this["webpackJsonphistory-viewer"]||[]).push([[0],{17:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(12),a=n.n(i),o=(n(17),n(3)),l=n(0),d=function(e){var t=e.topic,n=e.selectItem;return Object(l.jsxs)(l.Fragment,{children:[t.name,Object(l.jsx)("ul",{children:t.items.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)("a",{href:"#".concat(t.name,"/").concat(e.name),onClick:function(t){t.preventDefault(),n(e)},children:e.name})},"navlink-".concat(e.name))}))})]})},u=function(e){var t=e.topics,n=e.selectItem;return Object(l.jsx)(l.Fragment,{children:t.map((function(e){return Object(l.jsx)(d,{topic:e,selectItem:n},"topic-".concat(e.name))}))})},s=n(4),h=n(2),f=function e(t){return"text"===t.type?t.data:"tag"===t.type?t.children.map((function(t){return e(t)})).join("\n"):""};function m(e){var t,n,c=e.match(/d\/(.*)&sa.*/),r=e.match(/d\/(.*)\//),i=e.match(/id%3D(.*)&sa.*/);return(null!==(t=null!==(n=null!==c&&void 0!==c?c:r)&&void 0!==n?n:i)&&void 0!==t?t:["","-"])[1].replace(/\/edit$/,"")}var j=n(8),v=(n(32),function(e){var t=e.initialItem,n=e.onClickUrl,i=Object(c.useState)(),a=Object(o.a)(i,2),d=a[0],u=a[1];Object(c.useEffect)((function(){if(void 0!==t&&void 0===d){var e=new Headers;e.append("pragma","no-cache"),e.append("cache-control","no-cache"),fetch("https://docs.google.com/document/u/1/d/".concat(t.id,"/pub?embedded=true&r=").concat(Math.floor(1e4*Math.random())),{headers:e,redirect:"manual"}).then((function(e){return e.text()})).then((function(e){u(e)}))}}),[d]);var s=r.a.useCallback((function(e){if("tag"===e.type){var t=e;if("html"===t.tagName||"head"===t.tagName)return Object(l.jsx)(l.Fragment,{children:Object(h.c)(t.children,{replace:s})});if("body"===t.tagName){var c=Object(h.a)(t.attribs);return Object(l.jsx)("div",Object(j.a)(Object(j.a)({id:"contentBody"},c),{},{children:Object(h.c)(t.children,{replace:s})}))}if("a"===t.tagName)return Object(l.jsx)("a",{style:{cursor:"pointer"},onClick:function(){return n(t.attribs.href)},children:Object(h.c)(t.children,{replace:s})})}}),[n]);if(void 0===t)return null;if(void 0===d)return Object(l.jsx)("div",{children:"Loading"});var f=Object(h.b)(d,{replace:s});return Object(l.jsx)("div",{id:"reader",children:f})}),b=(n(33),function(){var e,t=Object(c.useState)(),n=Object(o.a)(t,2),i=n[0],a=n[1],d=Object(c.useState)(),j=Object(o.a)(d,2),b=j[0],g=j[1],p=r.a.useMemo((function(){return void 0!==i&&void 0!==b?function(e,t){var n,c=Object(s.a)(e);try{for(c.s();!(n=c.n()).done;){var r=n.value;if(r.items.some((function(e){return e===t})))return r}}catch(i){c.e(i)}finally{c.f()}throw Error("No topic found")}(i,b):void 0}),[b]);return Object(c.useEffect)((function(){void 0===i&&function(){var e=new Headers;return e.append("pragma","no-cache"),e.append("cache-control","no-cache"),fetch("https://docs.google.com/document/d/1ltZCNiI154npdUWUAHFuZC-lCZ32fYW7UVEvEru5Xxs/pub?embedded=true",{headers:e}).then((function(e){return e.text()})).then((function(e){console.log(e);var t=Object(h.d)(e);if(0===t.length)throw new Error("Hiba a f\u0151tartalomjegyz\xe9k feldolgoz\xe1sa k\xf6zben! html");var n=t[0];console.log(n);var c=n.children.find((function(e){return"tag"===e.type&&"body"===e.name}));if(console.log(c),void 0===c)throw new Error("Hiba a f\u0151tartalomjegyz\xe9k feldolgoz\xe1sa k\xf6zben! body");var r,i=[],a={name:"",items:[]},o={name:"",id:""},l=function(){0!==a.name.length&&(i.push(a),console.log("Persisting topic: ",a.name))},d=Object(s.a)(c.children);try{for(d.s();!(r=d.n()).done;){var u=r.value;if("tag"===u.type){var j=u;if("h1"===j.name){l();var v=f(j);a={name:v,items:[]},o={name:"",id:""},console.log("Reading topic: ",a.name)}else if("h2"===j.name&&(console.log(j),console.log("Reading item: ",o.name),j.children.length>0&&"tag"===j.children[0].type&&j.children[0].children.length>0&&"tag"===j.children[0].children[0].type)){var b,g=null!==(b=j.children[0].children[0].attribs.href)&&void 0!==b?b:"";console.log(g);var p=m(g);console.log(p),0!==(o={name:f(j),id:p}).name.length&&0!==o.id.length&&(a.items.push(o),console.log("Persisting item: ",o.name))}}}}catch(O){d.e(O)}finally{d.f()}return l(),i}))}().then((function(e){a(e),g(e[0].items[0])}))}),[i]),void 0===i?Object(l.jsx)(l.Fragment,{children:"Loading"}):Object(l.jsxs)("div",{id:"content",children:[Object(l.jsx)("h1",{children:null===p||void 0===p?void 0:p.name}),Object(l.jsx)("hr",{}),Object(l.jsx)(v,{initialItem:b,onClickUrl:function(e){if(void 0!==i){var t=m(e),n=function(e,t){var n,c=Object(s.a)(e);try{for(c.s();!(n=c.n()).done;){var r,i=n.value,a=Object(s.a)(i.items);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.id===t)return o}}catch(l){a.e(l)}finally{a.f()}}}catch(l){c.e(l)}finally{c.f()}}(i,t);console.log(n),n&&g(n)}}},null!==(e=null===b||void 0===b?void 0:b.id)&&void 0!==e?e:"not-selected"),Object(l.jsx)("hr",{}),Object(l.jsx)(u,{topics:i,selectItem:function(e){g(e)}})]})}),g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root")),g()}},[[34,1,2]]]);
//# sourceMappingURL=main.17aafe8a.chunk.js.map