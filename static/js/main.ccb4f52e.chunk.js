(this["webpackJsonphistory-viewer"]=this["webpackJsonphistory-viewer"]||[]).push([[0],{57:function(e,n,t){},97:function(e,n,t){},98:function(e,n,t){"use strict";t.r(n);var c=t(0),i=t.n(c),r=t(7),o=t.n(r),a=(t(57),t(16)),l=t(2),d=function(e){var n=e.topic,t=e.selectItem;return Object(l.jsxs)(l.Fragment,{children:[n.name,Object(l.jsx)("ul",{children:n.items.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)("a",{href:"#".concat(n.name,"/").concat(e.name),onClick:function(n){n.preventDefault(),t(e)},children:e.name})},"navlink-".concat(e.name))}))})]})},s=function(e){var n=e.topics,t=e.selectItem;return Object(l.jsx)(l.Fragment,{children:n.map((function(e){return Object(l.jsx)(d,{topic:e,selectItem:t},"topic-".concat(e.name))}))})},u=t(26),h=t(17),f=function e(n){return"text"===n.type?n.data:"tag"===n.type?n.children.map((function(n){return e(n)})).join("\n"):""};function j(e){var n,t,c=e.match(/d\/(.*)&sa.*/),i=e.match(/d\/(.*)\//),r=e.match(/id%3D(.*)&sa.*/);return(null!==(n=null!==(t=null!==c&&void 0!==c?c:i)&&void 0!==t?t:r)&&void 0!==n?n:["","-"])[1].replace(/\/edit$/,"").replace(/\//,"")}var b=t(35),v=t(43),m=t.n(v),g=function(e){var n=e.children,t=e.width,r=e.handleKeyboard,o=Object(c.useState)(500),d=Object(a.a)(o,2),s=d[0],u=d[1],h=i.a.createRef(),f=function(e){e.current&&e.current.node.contentDocument&&0!==e.current.node.contentDocument.body.scrollHeight&&(console.log(e.current.node.contentDocument.body.scrollHeight),u(e.current.node.contentDocument.body.scrollHeight))};return Object(c.useEffect)((function(){var e,n;r&&(null===(e=h.current)||void 0===e||null===(n=e.node.contentWindow)||void 0===n||n.addEventListener("keydown",r));var t=setInterval((function(){f(h)}),200);return function(){var e,n;r&&(null===(e=h.current)||void 0===e||null===(n=e.node.contentWindow)||void 0===n||n.removeEventListener("keydown",r));clearInterval(t)}}),[n]),Object(l.jsx)(m.a,{style:{height:s},width:t,ref:h,onLoad:function(){f(h)},scrolling:"no",frameBorder:"0",children:n})},O=function(){return Object(l.jsx)("div",{id:"ReaderCss",children:Object(l.jsx)("style",{children:"\n#contentBody {\n    padding: 10px;\n    margin: 0 auto;\n}\n"})})},p=t(121),y=(t(76),t(44)),x=t.n(y),w=function(e){var n=e.initialItem,t=e.onClickUrl,r=e.handleKeyboard,o=Object(c.useState)(),d=Object(a.a)(o,2),s=d[0],u=d[1];Object(c.useEffect)((function(){if(void 0!==n&&void 0===s){var e=new Headers;e.append("pragma","no-cache"),e.append("cache-control","no-cache"),fetch("https://docs.google.com/document/u/1/d/".concat(n.id,"/pub?embedded=true&r=").concat(Math.floor(1e4*Math.random())),{headers:e,redirect:"manual"}).then((function(e){return e.text()})).then((function(e){u(e)}))}}),[s]);var f=i.a.useCallback((function(e){if("tag"===e.type){var n=e;if("html"===n.tagName||"head"===n.tagName)return Object(l.jsx)(l.Fragment,{children:Object(h.c)(n.children,{replace:f})});if("body"===n.tagName){var c=Object(h.a)(n.attribs);return Object(l.jsx)("div",Object(b.a)(Object(b.a)({id:"contentBody"},c),{},{children:Object(h.c)(n.children,{replace:f})}))}if("a"===n.tagName)return Object(l.jsx)("a",{style:{cursor:"pointer"},onClick:function(){return t(n.attribs.href)},children:Object(h.c)(n.children,{replace:f})})}}),[t]);if(void 0===n)return Object(l.jsx)(p.a,{variant:"body1",children:"V\xe1lassz ki egy t\xe9mak\xf6rt..."});if(void 0===s)return Object(l.jsx)("div",{style:{margin:"0 auto",width:"100px"},children:Object(l.jsx)(x.a,{type:"Watch",color:"#00BFFF",width:"100px"})});var j=Object(h.b)(s,{replace:f});return Object(l.jsxs)(g,{width:"100%",handleKeyboard:r,children:[Object(l.jsx)(O,{}),j]})},k=(t(97),t(124)),C=t(130),I=t(129),E=t(128),F=t(125),L=t(126),H=t(127),z=function(){var e,n=Object(c.useState)(!1),t=Object(a.a)(n,2),r=t[0],o=t[1],d=Object(c.useState)(),b=Object(a.a)(d,2),v=b[0],m=b[1],g=Object(c.useState)(),O=Object(a.a)(g,2),y=O[0],x=O[1],z=i.a.useMemo((function(){return void 0!==v&&void 0!==y?function(e,n){var t,c=Object(u.a)(e);try{for(c.s();!(t=c.n()).done;){var i=t.value;if(i.items.some((function(e){return e===n})))return i}}catch(r){c.e(r)}finally{c.f()}throw Error("No topic found")}(v,y):void 0}),[y]),D=i.a.useMemo((function(){if(void 0!==z){var e=z.items.findIndex((function(e){return e===y}));if(!(e<1))return z.items[e-1]}}),[y]),S=i.a.useMemo((function(){if(void 0!==z){var e=z.items.findIndex((function(e){return e===y}));if(!(e>=z.items.length))return z.items[e+1]}}),[y]),B=i.a.useCallback((function(e){x(e)}),[]),M=i.a.useCallback((function(){void 0!==D&&x(D)}),[D]),N=i.a.useCallback((function(){void 0!==S&&x(S)}),[S]);Object(c.useEffect)((function(){void 0===v&&function(){var e=new Headers;return e.append("pragma","no-cache"),e.append("cache-control","no-cache"),fetch("https://docs.google.com/document/d/1ltZCNiI154npdUWUAHFuZC-lCZ32fYW7UVEvEru5Xxs/pub?embedded=true",{headers:e}).then((function(e){return e.text()})).then((function(e){console.log(e);var n=Object(h.d)(e);if(0===n.length)throw new Error("Hiba a f\u0151tartalomjegyz\xe9k feldolgoz\xe1sa k\xf6zben! html");var t=n[0];console.log(t);var c=t.children.find((function(e){return"tag"===e.type&&"body"===e.name}));if(console.log(c),void 0===c)throw new Error("Hiba a f\u0151tartalomjegyz\xe9k feldolgoz\xe1sa k\xf6zben! body");var i,r=[],o={name:"",items:[]},a={name:"",id:""},l=function(){0!==o.name.length&&(r.push(o),console.log("Persisting topic: ",o.name))},d=Object(u.a)(c.children);try{for(d.s();!(i=d.n()).done;){var s=i.value;if("tag"===s.type){var b=s;if("h1"===b.name){l();var v=f(b);o={name:v,items:[]},a={name:"",id:""},console.log("Reading topic: ",o.name)}else if("h2"===b.name&&(console.log(b),console.log("Reading item: ",a.name),b.children.length>0&&"tag"===b.children[0].type&&b.children[0].children.length>0&&"tag"===b.children[0].children[0].type)){var m,g=null!==(m=b.children[0].children[0].attribs.href)&&void 0!==m?m:"";console.log(g);var O=j(g);console.log(O),0!==(a={name:f(b),id:O}).name.length&&0!==a.id.length&&(o.items.push(a),console.log("Persisting item: ",a.name))}}}}catch(p){d.e(p)}finally{d.f()}return l(),r}))}().then((function(e){m(e),x(e[0].items[0])}))}),[v]);var R=i.a.useCallback((function(e){"ArrowLeft"===e.key?M():"ArrowRight"===e.key&&N()}),[M,N]);return Object(c.useEffect)((function(){return document.addEventListener("keydown",R),function(){document.removeEventListener("keydown",R)}}),[R]),void 0===v?Object(l.jsx)(l.Fragment,{children:"Loading"}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(k.a,{}),Object(l.jsx)("div",{style:{float:"left"},children:Object(l.jsx)(C.a,{onClick:function(){return o(!0)},children:Object(l.jsx)(F.a,{})})}),Object(l.jsx)(I.a,{anchor:"left",open:r,onClose:function(){return o(!1)},onOpen:function(){return o(!0)},children:Object(l.jsx)(s,{topics:v,selectItem:B})}),Object(l.jsxs)("div",{id:"content",children:[Object(l.jsx)(p.a,{variant:"h2",align:"center",children:null===z||void 0===z?void 0:z.name}),Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsx)("div",{style:{width:"50%"},children:Object(l.jsxs)("div",{style:{margin:"0 auto 0 0",width:"fit-content",display:"flex",alignItems:"center"},children:[Object(l.jsx)(C.a,{onClick:M,style:{display:void 0===D?"none":"inherit"},children:Object(l.jsx)(L.a,{})}),Object(l.jsx)(p.a,{variant:"body1",children:null===D||void 0===D?void 0:D.name})]})}),Object(l.jsx)("div",{style:{width:"50%"},children:Object(l.jsxs)("div",{style:{margin:"0 0 0 auto",width:"fit-content",display:"flex",alignItems:"center"},children:[Object(l.jsx)(p.a,{variant:"body1",children:null===S||void 0===S?void 0:S.name}),Object(l.jsx)(C.a,{onClick:N,style:{display:void 0===S?"none":"inherit"},children:Object(l.jsx)(H.a,{})})]})})]}),Object(l.jsx)(E.a,{}),Object(l.jsx)(w,{initialItem:y,onClickUrl:function(e){if(void 0!==v){var n=j(e),t=function(e,n){var t,c=Object(u.a)(e);try{for(c.s();!(t=c.n()).done;){var i,r=t.value,o=Object(u.a)(r.items);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.id===n)return a}}catch(l){o.e(l)}finally{o.f()}}}catch(l){c.e(l)}finally{c.f()}}(v,n);console.log(t),t&&x(t)}},handleKeyboard:R},null!==(e=null===y||void 0===y?void 0:y.id)&&void 0!==e?e:"not-selected"),Object(l.jsx)(E.a,{})]})]})},D=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,132)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),c(e),i(e),r(e),o(e)}))};o.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(z,{})}),document.getElementById("root")),D()}},[[98,1,2]]]);
//# sourceMappingURL=main.ccb4f52e.chunk.js.map