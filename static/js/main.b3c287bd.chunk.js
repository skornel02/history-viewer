(this["webpackJsonphistory-viewer"]=this["webpackJsonphistory-viewer"]||[]).push([[0],{124:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(7),o=n.n(r),a=(n(84),n(18)),l=n(126),d=n(159),u=n(160),s=n(161),h=n(162),j=n(72),f=n.n(j),b=n(71),v=n.n(b),m=n(3),g=function(e){var t=e.topic,n=e.selectItem,i=Object(c.useState)(!0),r=Object(a.a)(i,2),o=r[0],h=r[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(l.a,{button:!0,onClick:function(){return h(!o)},children:[Object(m.jsx)(d.a,{color:"primary",children:t.name}),o?Object(m.jsx)(v.a,{}):Object(m.jsx)(f.a,{})]}),Object(m.jsx)(u.a,{in:!o,timeout:"auto",children:Object(m.jsx)(s.a,{component:"div",disablePadding:!0,children:t.items.map((function(e){return Object(m.jsx)(l.a,{button:!0,onClick:function(t){t.preventDefault(),n(e)},style:{paddingLeft:"2rem"},children:Object(m.jsx)(d.a,{children:e.name})},"navlink-".concat(e.name))}))})})]})},O=function(e){var t=e.topics,n=e.selectItem;return Object(m.jsx)(s.a,{component:"nav",subheader:Object(m.jsx)(h.a,{component:"div",children:"Jegyzetek"}),children:t.map((function(e){return Object(m.jsx)(g,{topic:e,selectItem:n},"topic-".concat(e.name))}))})},p=n(35),x=n(24),y=function e(t){return"text"===t.type?t.data:"tag"===t.type?t.children.map((function(t){return e(t)})).join("\n"):""};function w(e){var t,n,c=e.match(/d\/(.*)&sa.*/),i=e.match(/d\/(.*)\//),r=e.match(/id%3D(.*)&sa.*/);return(null!==(t=null!==(n=null!==c&&void 0!==c?c:i)&&void 0!==n?n:r)&&void 0!==t?t:["","-"])[1].replace(/\/edit$/,"").replace(/\//,"")}var k=n(51),C=n(73),E=n.n(C),I=function(e){var t=e.children,n=e.width,r=e.handleKeyboard,o=e.registerTouchHandler,l=void 0===o?function(){return function(){}}:o,d=Object(c.useState)(500),u=Object(a.a)(d,2),s=u[0],h=u[1],j=i.a.createRef(),f=function(e){e.current&&e.current.node.contentDocument&&0!==e.current.node.contentDocument.body.scrollHeight&&(console.log(e.current.node.contentDocument.body.scrollHeight),h(e.current.node.contentDocument.body.scrollHeight))};return Object(c.useEffect)((function(){var e,t,n;r&&(null===(t=j.current)||void 0===t||null===(n=t.node.contentWindow)||void 0===n||n.addEventListener("keydown",r));var c=l(null===(e=j.current)||void 0===e?void 0:e.node.contentWindow),i=setInterval((function(){f(j)}),200);return function(){var e,t;r&&(null===(e=j.current)||void 0===e||null===(t=e.node.contentWindow)||void 0===t||t.removeEventListener("keydown",r));clearInterval(i),c()}}),[t]),Object(m.jsx)(E.a,{style:{height:s},width:n,ref:j,onLoad:function(){f(j)},scrolling:"no",frameBorder:"0",children:t})},F=function(){return Object(m.jsx)("div",{id:"ReaderCss",children:Object(m.jsx)("style",{children:"\n#contentBody {\n    padding: 10px;\n    margin: 0 auto;\n}\n"})})},L=n(47),T=(n(105),n(42)),z=n.n(T),H=function(e){var t=e.initialItem,n=e.onClickUrl,r=e.handleKeyboard,o=e.registerTouchHandler,l=Object(c.useState)(),d=Object(a.a)(l,2),u=d[0],s=d[1];Object(c.useEffect)((function(){if(void 0!==t&&void 0===u){var e=new Headers;e.append("pragma","no-cache"),e.append("cache-control","no-cache"),fetch("https://docs.google.com/document/u/1/d/".concat(t.id,"/pub?embedded=true&r=").concat(Math.floor(1e4*Math.random())),{headers:e,redirect:"manual"}).then((function(e){return e.text()})).then((function(e){s(e)}))}}),[u]);var h=i.a.useCallback((function(e){if("tag"===e.type){var t=e;if("html"===t.tagName||"head"===t.tagName)return Object(m.jsx)(m.Fragment,{children:Object(x.c)(t.children,{replace:h})});if("body"===t.tagName){var c=Object(x.a)(t.attribs);return Object(m.jsx)("div",Object(k.a)(Object(k.a)({id:"contentBody"},c),{},{children:Object(x.c)(t.children,{replace:h})}))}if("a"===t.tagName)return Object(m.jsx)("a",{style:{cursor:"pointer"},onClick:function(){return n(t.attribs.href)},children:Object(x.c)(t.children,{replace:h})})}}),[n]);if(void 0===t)return Object(m.jsx)(L.a,{variant:"body1",children:"V\xe1lassz ki egy t\xe9mak\xf6rt..."});if(void 0===u)return Object(m.jsx)("div",{style:{margin:"0 auto",width:"100px"},children:Object(m.jsx)(z.a,{type:"Watch",color:"#00BFFF",width:"100px"})});var j=Object(x.b)(u,{replace:h});return Object(m.jsxs)(I,{width:"100%",handleKeyboard:r,registerTouchHandler:o,children:[Object(m.jsx)(F,{}),j]})},S=(n(124),n(165)),D=n(166),B=n(173),M=n(174),N=n(168),W=n(171),P=n(167),R=n(169),U=n(170),X=n(45),K=function(){var e,t=Object(c.useState)(!1),n=Object(a.a)(t,2),r=n[0],o=n[1],l=i.a.useState(null),d=Object(a.a)(l,2),u=d[0],s=d[1],h=Object(c.useState)(!1),j=Object(a.a)(h,2),f=j[0],b=j[1],v=Object(X.b)(),g=Object(c.useState)(),k=Object(a.a)(g,2),C=k[0],E=k[1],I=Object(c.useState)(),F=Object(a.a)(I,2),T=F[0],K=F[1],A=i.a.useMemo((function(){return void 0!==C&&void 0!==T?function(e,t){var n,c=Object(p.a)(e);try{for(c.s();!(n=c.n()).done;){var i=n.value;if(i.items.some((function(e){return e===t})))return i}}catch(r){c.e(r)}finally{c.f()}throw Error("No topic found")}(C,T):void 0}),[T]),J=i.a.useMemo((function(){if(void 0!==A){var e=A.items.findIndex((function(e){return e===T}));if(!(e<1))return A.items[e-1]}}),[T]),Y=i.a.useMemo((function(){if(void 0!==A){var e=A.items.findIndex((function(e){return e===T}));if(!(e>=A.items.length))return A.items[e+1]}}),[T]),Z=i.a.useCallback((function(e){K(e)}),[]),V=i.a.useCallback((function(){void 0!==J&&K(J)}),[J]),$=i.a.useCallback((function(){void 0!==Y&&K(Y)}),[Y]);Object(c.useEffect)((function(){void 0===C&&function(){var e=new Headers;return e.append("pragma","no-cache"),e.append("cache-control","no-cache"),fetch("https://docs.google.com/document/d/1ltZCNiI154npdUWUAHFuZC-lCZ32fYW7UVEvEru5Xxs/pub?embedded=true",{headers:e}).then((function(e){return e.text()})).then((function(e){console.log(e);var t=Object(x.d)(e);if(0===t.length)throw new Error("Hiba a f\u0151tartalomjegyz\xe9k feldolgoz\xe1sa k\xf6zben! html");var n=t[0];console.log(n);var c=n.children.find((function(e){return"tag"===e.type&&"body"===e.name}));if(console.log(c),void 0===c)throw new Error("Hiba a f\u0151tartalomjegyz\xe9k feldolgoz\xe1sa k\xf6zben! body");var i,r=[],o={name:"",items:[]},a={name:"",id:""},l=function(){0!==o.name.length&&(r.push(o),console.log("Persisting topic: ",o.name))},d=Object(p.a)(c.children);try{for(d.s();!(i=d.n()).done;){var u=i.value;if("tag"===u.type){var s=u;if("h1"===s.name){l();var h=y(s);o={name:h,items:[]},a={name:"",id:""},console.log("Reading topic: ",o.name)}else if("h2"===s.name&&(console.log(s),console.log("Reading item: ",a.name),s.children.length>0&&"tag"===s.children[0].type&&s.children[0].children.length>0&&"tag"===s.children[0].children[0].type)){var j,f=null!==(j=s.children[0].children[0].attribs.href)&&void 0!==j?j:"";console.log(f);var b=w(f);console.log(b),0!==(a={name:y(s),id:b}).name.length&&0!==a.id.length&&(o.items.push(a),console.log("Persisting item: ",a.name))}}}}catch(v){d.e(v)}finally{d.f()}return l(),r}))}().then((function(e){E(e),K(e[0].items[0])}))}),[C]);var _=i.a.useCallback((function(e){"ArrowLeft"===e.key?V():"ArrowRight"===e.key&&$()}),[V,$]),q=i.a.useCallback((function(e){if(void 0===e||null==e)return function(){};var t=null,n=new Date,c=function(e){e.touches.length>0?(t=e.touches.item(0),n=new Date):t=null},i=function(c){var i=.6*e.outerWidth;if(null!==t){var r=c.changedTouches.item(0);if(null===r)return;if(Math.abs(t.pageY-r.pageY)>10)return;if((new Date).getTime()-n.getTime()>1e3)return;t.pageX+i<r.pageX&&V(),t.pageX-i>r.pageX&&$()}};return e.addEventListener("touchstart",c),e.addEventListener("touchend",i),function(){e.removeEventListener("touchstart",c),e.removeEventListener("touchend",i)}}),[V,$]);return Object(c.useEffect)((function(){var e=q(window);return document.addEventListener("keydown",_),function(){document.removeEventListener("keydown",_),e()}}),[_]),void 0===C?Object(m.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(m.jsx)(z.a,{type:"TailSpin",color:"#00BFFF",width:"10vw"})}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(S.a,{}),Object(m.jsx)("div",{style:{position:"absolute",left:0,top:0},children:Object(m.jsx)(D.a,{onClick:function(){return o(!0)},children:Object(m.jsx)(P.a,{})})}),Object(m.jsx)(B.a,{anchor:"left",open:r,onClose:function(){return o(!1)},onOpen:function(){return o(!0)},children:Object(m.jsx)(O,{topics:C,selectItem:Z})}),Object(m.jsxs)("div",{id:"content",children:[Object(m.jsx)(L.a,{variant:"h2",align:"center",onClick:function(e){s(e.currentTarget),b(!0)},children:null===A||void 0===A?void 0:A.name}),Object(m.jsx)(M.a,{anchorEl:u,open:f,onClose:function(){return b(!1)},keepMounted:!0,children:C.map((function(e){return Object(m.jsx)(N.a,{onClick:function(){Z(e.items[0]),b(!1)},children:e.name},"menu-".concat(e.name))}))}),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)("div",{style:{width:"50%"},children:Object(m.jsxs)("div",{style:{margin:"0 auto 0 0",width:"fit-content",display:"flex",alignItems:"center"},children:[Object(m.jsx)(D.a,{onClick:V,style:{display:void 0===J?"none":"inherit"},children:Object(m.jsx)(R.a,{})}),Object(m.jsx)(L.a,{variant:"body1",children:null===J||void 0===J?void 0:J.name})]})}),Object(m.jsx)("div",{style:{width:"50%"},children:Object(m.jsxs)("div",{style:{margin:"0 0 0 auto",width:"fit-content",display:"flex",alignItems:"center"},children:[Object(m.jsx)(L.a,{variant:"body1",children:null===Y||void 0===Y?void 0:Y.name}),Object(m.jsx)(D.a,{onClick:$,style:{display:void 0===Y?"none":"inherit"},children:Object(m.jsx)(U.a,{})})]})})]}),Object(m.jsx)(W.a,{}),Object(m.jsx)(H,{initialItem:T,onClickUrl:function(e){if(void 0!==C){var t=w(e),n=function(e,t){var n,c=Object(p.a)(e);try{for(c.s();!(n=c.n()).done;){var i,r=n.value,o=Object(p.a)(r.items);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.id===t)return a}}catch(l){o.e(l)}finally{o.f()}}}catch(l){c.e(l)}finally{c.f()}}(C,t);n?K(n):v({title:"Biztos megszeretn\xe9 nyitni ezt a k\xfcls\u0151 hivatkoz\xe1st?",cancellationText:"Nem",confirmationText:"Igen"}).then((function(){var t=window.open(e,"_blank");t&&t.focus()}))}},handleKeyboard:_,registerTouchHandler:q},null!==(e=null===T||void 0===T?void 0:T.id)&&void 0!==e?e:"not-selected"),Object(m.jsx)(W.a,{})]})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,175)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),r(e),o(e)}))};o.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(X.a,{children:Object(m.jsx)(K,{})})}),document.getElementById("root")),A()},84:function(e,t,n){}},[[125,1,2]]]);
//# sourceMappingURL=main.b3c287bd.chunk.js.map